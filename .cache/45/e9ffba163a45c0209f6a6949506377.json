{"id":"lJf5","dependencies":[{"name":"/Users/wolfzer44/www/vutiliti/package.json","includedInParent":true,"mtime":1584040983114},{"name":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/package.json","includedInParent":true,"mtime":1583299135701},{"name":"../../data-types","loc":{"line":3,"column":26},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/dialects/postgres/query-interface.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/data-types.js"},{"name":"../../promise","loc":{"line":4,"column":24},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/dialects/postgres/query-interface.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/promise.js"},{"name":"../../query-types","loc":{"line":5,"column":27},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/dialects/postgres/query-interface.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/query-types.js"},{"name":"lodash","loc":{"line":6,"column":18},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/dialects/postgres/query-interface.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/lodash/lodash.js"}],"generated":{"js":"\"use strict\";var e=require(\"../../data-types\"),r=require(\"../../promise\"),n=require(\"../../query-types\"),t=require(\"lodash\");function i(i,a,u,f,s){var o=Object.keys(u),l=o.length,c=\"\",y=[],h=0;for(h=0;h<l;h++){var p=u[o[h]],g=p.type;(g instanceof e.ENUM||g instanceof e.ARRAY&&g.type instanceof e.ENUM)&&(c=i.QueryGenerator.pgListEnums(a,p.field||o[h],f),y.push(i.sequelize.query(c,Object.assign({},f,{plain:!0,raw:!0,type:n.SELECT}))))}return r.all(y).then(function(n){y=[];var c=0,p=function(e,r,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"before\",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y.length,o=t.clone(f);switch(o.before=null,o.after=null,u){case\"after\":o.after=n;break;case\"before\":default:o.before=n}y.splice(s,0,function(){return i.sequelize.query(i.QueryGenerator.pgEnumAdd(a,e,r,o),o)})},g=function(){var r=u[o[h]],t=r.type,l=t.type||t,g=r.field||o[h];if(t instanceof e.ENUM||t instanceof e.ARRAY&&l instanceof e.ENUM)if(n[c]){if(n[c]&&s){for(var v,d=i.QueryGenerator.fromArray(n[c].enum_value),q=l.values,E=-1,b=0;b<d.length;b++){var m=d[b],A=q.indexOf(m);if(v=m,-1!==A){for(var O=q.slice(0,A),M=y.length,z=O.length-1;z>=0&&!~d.indexOf(O[z]);z--)p(g,O[z],v,\"before\",M);A>E&&(E=A)}}if(v&&E<q.length-1)for(var G=q.slice(E+1),N=G.length-1;N>=0;N--)p(g,G[N],v,\"after\");c++}}else y.push(function(){return i.sequelize.query(i.QueryGenerator.pgEnum(a,g,l,f),Object.assign({},f,{raw:!0}))})};for(h=0;h<l;h++)g();return y.reduce(function(e,r){return e.then(r)},r.resolve()).tap(function(){if(y.length)return i.sequelize.dialect.connectionManager._refreshDynamicOIDs()})})}exports.ensureEnums=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":3,"column":6},"generated":{"line":1,"column":17}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"require","original":{"line":3,"column":18},"generated":{"line":1,"column":19}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":3,"column":26},"generated":{"line":1,"column":27}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Promise","original":{"line":4,"column":6},"generated":{"line":1,"column":47}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"require","original":{"line":4,"column":16},"generated":{"line":1,"column":49}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":4,"column":24},"generated":{"line":1,"column":57}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryTypes","original":{"line":5,"column":6},"generated":{"line":1,"column":74}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"require","original":{"line":5,"column":19},"generated":{"line":1,"column":76}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":5,"column":27},"generated":{"line":1,"column":84}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"_","original":{"line":6,"column":6},"generated":{"line":1,"column":105}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"require","original":{"line":6,"column":10},"generated":{"line":1,"column":107}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":6,"column":18},"generated":{"line":1,"column":115}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":29,"column":0},"generated":{"line":1,"column":125}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ensureEnums","original":{"line":29,"column":9},"generated":{"line":1,"column":134}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":29,"column":21},"generated":{"line":1,"column":136}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"tableName","original":{"line":29,"column":25},"generated":{"line":1,"column":138}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attributes","original":{"line":29,"column":36},"generated":{"line":1,"column":140}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":29,"column":48},"generated":{"line":1,"column":142}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"model","original":{"line":29,"column":57},"generated":{"line":1,"column":144}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":30,"column":8},"generated":{"line":1,"column":147}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":30,"column":8},"generated":{"line":1,"column":151}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Object","original":{"line":30,"column":15},"generated":{"line":1,"column":153}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":30,"column":22},"generated":{"line":1,"column":160}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attributes","original":{"line":30,"column":27},"generated":{"line":1,"column":165}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keyLen","original":{"line":31,"column":8},"generated":{"line":1,"column":168}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":31,"column":17},"generated":{"line":1,"column":170}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":31,"column":22},"generated":{"line":1,"column":172}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sql","original":{"line":33,"column":6},"generated":{"line":1,"column":179}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":33,"column":12},"generated":{"line":1,"column":181}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":34,"column":6},"generated":{"line":1,"column":184}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":34,"column":17},"generated":{"line":1,"column":186}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":35,"column":6},"generated":{"line":1,"column":189}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":35,"column":10},"generated":{"line":1,"column":191}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":37,"column":7},"generated":{"line":1,"column":193}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":37,"column":7},"generated":{"line":1,"column":197}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":37,"column":11},"generated":{"line":1,"column":199}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":37,"column":14},"generated":{"line":1,"column":201}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keyLen","original":{"line":37,"column":18},"generated":{"line":1,"column":203}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":37,"column":26},"generated":{"line":1,"column":205}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":37,"column":31},"generated":{"line":1,"column":209}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":38,"column":10},"generated":{"line":1,"column":210}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":38,"column":10},"generated":{"line":1,"column":214}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attributes","original":{"line":38,"column":22},"generated":{"line":1,"column":216}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":38,"column":33},"generated":{"line":1,"column":218}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":38,"column":38},"generated":{"line":1,"column":220}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":39,"column":10},"generated":{"line":1,"column":224}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":39,"column":17},"generated":{"line":1,"column":226}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":39,"column":27},"generated":{"line":1,"column":228}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":42,"column":6},"generated":{"line":1,"column":234}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":42,"column":22},"generated":{"line":1,"column":247}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ENUM","original":{"line":42,"column":32},"generated":{"line":1,"column":249}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":43,"column":6},"generated":{"line":1,"column":255}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":43,"column":22},"generated":{"line":1,"column":268}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ARRAY","original":{"line":43,"column":32},"generated":{"line":1,"column":270}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":43,"column":41},"generated":{"line":1,"column":277}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":43,"column":46},"generated":{"line":1,"column":279}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":43,"column":62},"generated":{"line":1,"column":295}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ENUM","original":{"line":43,"column":72},"generated":{"line":1,"column":297}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sql","original":{"line":45,"column":6},"generated":{"line":1,"column":305}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":45,"column":12},"generated":{"line":1,"column":307}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryGenerator","original":{"line":45,"column":15},"generated":{"line":1,"column":309}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"pgListEnums","original":{"line":45,"column":30},"generated":{"line":1,"column":324}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"tableName","original":{"line":45,"column":42},"generated":{"line":1,"column":336}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":45,"column":53},"generated":{"line":1,"column":338}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":45,"column":63},"generated":{"line":1,"column":340}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":45,"column":72},"generated":{"line":1,"column":347}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":45,"column":77},"generated":{"line":1,"column":349}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":45,"column":81},"generated":{"line":1,"column":352}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":46,"column":6},"generated":{"line":1,"column":355}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"push","original":{"line":46,"column":15},"generated":{"line":1,"column":357}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":46,"column":20},"generated":{"line":1,"column":362}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sequelize","original":{"line":46,"column":23},"generated":{"line":1,"column":364}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"query","original":{"line":46,"column":33},"generated":{"line":1,"column":374}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sql","original":{"line":47,"column":8},"generated":{"line":1,"column":380}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Object","original":{"line":48,"column":8},"generated":{"line":1,"column":382}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"assign","original":{"line":48,"column":15},"generated":{"line":1,"column":389}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":48,"column":22},"generated":{"line":1,"column":396}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":48,"column":26},"generated":{"line":1,"column":399}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":48,"column":35},"generated":{"line":1,"column":401}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"plain","original":{"line":48,"column":37},"generated":{"line":1,"column":402}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":48,"column":44},"generated":{"line":1,"column":409}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"raw","original":{"line":48,"column":50},"generated":{"line":1,"column":411}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":48,"column":55},"generated":{"line":1,"column":416}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":48,"column":61},"generated":{"line":1,"column":418}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryTypes","original":{"line":48,"column":67},"generated":{"line":1,"column":423}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"SELECT","original":{"line":48,"column":78},"generated":{"line":1,"column":425}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Promise","original":{"line":53,"column":9},"generated":{"line":1,"column":437}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Promise","original":{"line":53,"column":9},"generated":{"line":1,"column":444}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"all","original":{"line":53,"column":17},"generated":{"line":1,"column":446}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":53,"column":21},"generated":{"line":1,"column":450}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"then","original":{"line":53,"column":31},"generated":{"line":1,"column":453}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":53,"column":36},"generated":{"line":1,"column":458}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"results","original":{"line":53,"column":36},"generated":{"line":1,"column":467}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":54,"column":4},"generated":{"line":1,"column":470}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":54,"column":15},"generated":{"line":1,"column":472}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":55,"column":8},"generated":{"line":1,"column":475}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":55,"column":8},"generated":{"line":1,"column":479}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":55,"column":18},"generated":{"line":1,"column":481}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"addEnumValue","original":{"line":58,"column":10},"generated":{"line":1,"column":483}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":25},"generated":{"line":1,"column":485}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":58,"column":26},"generated":{"line":1,"column":494}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"value","original":{"line":58,"column":33},"generated":{"line":1,"column":496}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"relativeValue","original":{"line":58,"column":40},"generated":{"line":1,"column":498}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"position","original":{"line":58,"column":55},"generated":{"line":1,"column":501}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"position","original":{"line":58,"column":55},"generated":{"line":1,"column":505}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":507}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":517}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":524}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":532}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":536}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":546}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":549}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":559}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":58,"column":66},"generated":{"line":1,"column":562}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"spliceStart","original":{"line":58,"column":76},"generated":{"line":1,"column":571}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":573}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":583}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":590}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":598}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":602}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":612}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":615}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":625}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":58,"column":90},"generated":{"line":1,"column":628}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":58,"column":99},"generated":{"line":1,"column":630}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":59,"column":12},"generated":{"line":1,"column":637}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"_","original":{"line":59,"column":27},"generated":{"line":1,"column":639}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"clone","original":{"line":59,"column":29},"generated":{"line":1,"column":641}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":59,"column":35},"generated":{"line":1,"column":647}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"position","original":{"line":63,"column":14},"generated":{"line":1,"column":650}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":60,"column":6},"generated":{"line":1,"column":657}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"before","original":{"line":60,"column":19},"generated":{"line":1,"column":659}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":60,"column":28},"generated":{"line":1,"column":666}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":61,"column":6},"generated":{"line":1,"column":671}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"after","original":{"line":61,"column":19},"generated":{"line":1,"column":673}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":61,"column":27},"generated":{"line":1,"column":679}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"position","original":{"line":63,"column":14},"generated":{"line":1,"column":684}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":64,"column":13},"generated":{"line":1,"column":687}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":64,"column":13},"generated":{"line":1,"column":691}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":65,"column":10},"generated":{"line":1,"column":699}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"after","original":{"line":65,"column":23},"generated":{"line":1,"column":701}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"relativeValue","original":{"line":65,"column":31},"generated":{"line":1,"column":707}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":66,"column":10},"generated":{"line":1,"column":709}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":67,"column":13},"generated":{"line":1,"column":715}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":67,"column":13},"generated":{"line":1,"column":719}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":68,"column":8},"generated":{"line":1,"column":728}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":69,"column":10},"generated":{"line":1,"column":736}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"before","original":{"line":69,"column":23},"generated":{"line":1,"column":738}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"relativeValue","original":{"line":69,"column":32},"generated":{"line":1,"column":745}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":73,"column":6},"generated":{"line":1,"column":747}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"splice","original":{"line":73,"column":15},"generated":{"line":1,"column":749}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"spliceStart","original":{"line":73,"column":22},"generated":{"line":1,"column":756}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":73,"column":35},"generated":{"line":1,"column":758}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":73,"column":38},"generated":{"line":1,"column":760}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":74,"column":15},"generated":{"line":1,"column":771}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":74,"column":15},"generated":{"line":1,"column":778}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sequelize","original":{"line":74,"column":18},"generated":{"line":1,"column":780}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"query","original":{"line":74,"column":28},"generated":{"line":1,"column":790}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":74,"column":34},"generated":{"line":1,"column":796}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryGenerator","original":{"line":74,"column":37},"generated":{"line":1,"column":798}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"pgEnumAdd","original":{"line":74,"column":52},"generated":{"line":1,"column":813}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"tableName","original":{"line":75,"column":10},"generated":{"line":1,"column":823}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":75,"column":21},"generated":{"line":1,"column":825}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"value","original":{"line":75,"column":28},"generated":{"line":1,"column":827}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":75,"column":35},"generated":{"line":1,"column":829}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"valueOptions","original":{"line":76,"column":11},"generated":{"line":1,"column":832}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":53,"column":47},"generated":{"line":1,"column":838}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":53,"column":47},"generated":{"line":1,"column":840}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":81,"column":12},"generated":{"line":1,"column":851}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":81,"column":12},"generated":{"line":1,"column":855}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attributes","original":{"line":81,"column":24},"generated":{"line":1,"column":857}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":81,"column":35},"generated":{"line":1,"column":859}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":81,"column":40},"generated":{"line":1,"column":861}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":82,"column":12},"generated":{"line":1,"column":865}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":82,"column":19},"generated":{"line":1,"column":867}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":82,"column":29},"generated":{"line":1,"column":869}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumType","original":{"line":83,"column":12},"generated":{"line":1,"column":874}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":83,"column":23},"generated":{"line":1,"column":876}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":83,"column":28},"generated":{"line":1,"column":878}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":83,"column":36},"generated":{"line":1,"column":884}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":84,"column":12},"generated":{"line":1,"column":886}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"attribute","original":{"line":84,"column":20},"generated":{"line":1,"column":888}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":84,"column":30},"generated":{"line":1,"column":890}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keys","original":{"line":84,"column":39},"generated":{"line":1,"column":897}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":84,"column":44},"generated":{"line":1,"column":899}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":87,"column":8},"generated":{"line":1,"column":902}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":87,"column":8},"generated":{"line":1,"column":905}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":87,"column":24},"generated":{"line":1,"column":918}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ENUM","original":{"line":87,"column":34},"generated":{"line":1,"column":920}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"type","original":{"line":88,"column":8},"generated":{"line":1,"column":926}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":88,"column":24},"generated":{"line":1,"column":939}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ARRAY","original":{"line":88,"column":34},"generated":{"line":1,"column":941}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumType","original":{"line":88,"column":43},"generated":{"line":1,"column":948}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"DataTypes","original":{"line":88,"column":63},"generated":{"line":1,"column":961}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ENUM","original":{"line":88,"column":73},"generated":{"line":1,"column":963}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":91,"column":12},"generated":{"line":1,"column":968}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"results","original":{"line":91,"column":13},"generated":{"line":1,"column":971}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":91,"column":21},"generated":{"line":1,"column":973}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":95,"column":15},"generated":{"line":1,"column":977}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"results","original":{"line":95,"column":21},"generated":{"line":1,"column":980}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":95,"column":29},"generated":{"line":1,"column":982}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"model","original":{"line":95,"column":43},"generated":{"line":1,"column":986}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":95,"column":50},"generated":{"line":1,"column":988}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":107,"column":15},"generated":{"line":1,"column":989}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVals","original":{"line":96,"column":16},"generated":{"line":1,"column":993}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":105,"column":14},"generated":{"line":1,"column":997}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVals","original":{"line":96,"column":16},"generated":{"line":1,"column":999}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":96,"column":27},"generated":{"line":1,"column":1001}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryGenerator","original":{"line":96,"column":30},"generated":{"line":1,"column":1003}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"fromArray","original":{"line":96,"column":45},"generated":{"line":1,"column":1018}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"results","original":{"line":96,"column":55},"generated":{"line":1,"column":1028}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":96,"column":63},"generated":{"line":1,"column":1030}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enum_value","original":{"line":96,"column":72},"generated":{"line":1,"column":1033}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"vals","original":{"line":97,"column":16},"generated":{"line":1,"column":1045}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumType","original":{"line":97,"column":23},"generated":{"line":1,"column":1047}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"values","original":{"line":97,"column":32},"generated":{"line":1,"column":1049}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"rightestPosition","original":{"line":106,"column":14},"generated":{"line":1,"column":1056}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":106,"column":34},"generated":{"line":1,"column":1059}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"oldIndex","original":{"line":107,"column":19},"generated":{"line":1,"column":1061}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":107,"column":30},"generated":{"line":1,"column":1063}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"oldIndex","original":{"line":107,"column":33},"generated":{"line":1,"column":1065}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVals","original":{"line":107,"column":44},"generated":{"line":1,"column":1067}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":107,"column":53},"generated":{"line":1,"column":1069}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"oldIndex","original":{"line":107,"column":61},"generated":{"line":1,"column":1076}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":107,"column":73},"generated":{"line":1,"column":1080}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVal","original":{"line":108,"column":18},"generated":{"line":1,"column":1081}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVal","original":{"line":108,"column":18},"generated":{"line":1,"column":1085}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVals","original":{"line":108,"column":28},"generated":{"line":1,"column":1087}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"oldIndex","original":{"line":108,"column":37},"generated":{"line":1,"column":1089}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":109,"column":18},"generated":{"line":1,"column":1092}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"vals","original":{"line":109,"column":27},"generated":{"line":1,"column":1094}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"indexOf","original":{"line":109,"column":32},"generated":{"line":1,"column":1096}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVal","original":{"line":109,"column":40},"generated":{"line":1,"column":1104}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":112,"column":16},"generated":{"line":1,"column":1107}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":110,"column":12},"generated":{"line":1,"column":1110}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVal","original":{"line":110,"column":31},"generated":{"line":1,"column":1112}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":112,"column":28},"generated":{"line":1,"column":1115}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":112,"column":16},"generated":{"line":1,"column":1119}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":112,"column":16},"generated":{"line":1,"column":1121}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":119,"column":17},"generated":{"line":1,"column":1122}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newValuesBefore","original":{"line":116,"column":18},"generated":{"line":1,"column":1126}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newValuesBefore","original":{"line":116,"column":18},"generated":{"line":1,"column":1130}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"vals","original":{"line":116,"column":36},"generated":{"line":1,"column":1132}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"slice","original":{"line":116,"column":41},"generated":{"line":1,"column":1134}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":116,"column":47},"generated":{"line":1,"column":1140}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":116,"column":50},"generated":{"line":1,"column":1142}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promisesLength","original":{"line":117,"column":18},"generated":{"line":1,"column":1145}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":117,"column":35},"generated":{"line":1,"column":1147}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":117,"column":44},"generated":{"line":1,"column":1149}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":119,"column":21},"generated":{"line":1,"column":1156}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newValuesBefore","original":{"line":119,"column":34},"generated":{"line":1,"column":1158}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":119,"column":50},"generated":{"line":1,"column":1160}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":119,"column":59},"generated":{"line":1,"column":1167}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":119,"column":62},"generated":{"line":1,"column":1169}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":119,"column":76},"generated":{"line":1,"column":1172}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumVals","original":{"line":120,"column":19},"generated":{"line":1,"column":1177}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"indexOf","original":{"line":120,"column":28},"generated":{"line":1,"column":1179}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newValuesBefore","original":{"line":120,"column":36},"generated":{"line":1,"column":1187}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":120,"column":52},"generated":{"line":1,"column":1189}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":119,"column":79},"generated":{"line":1,"column":1193}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"addEnumValue","original":{"line":124,"column":14},"generated":{"line":1,"column":1197}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":124,"column":27},"generated":{"line":1,"column":1199}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newValuesBefore","original":{"line":124,"column":34},"generated":{"line":1,"column":1201}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":124,"column":50},"generated":{"line":1,"column":1203}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":124,"column":63},"generated":{"line":1,"column":1206}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":124,"column":81},"generated":{"line":1,"column":1208}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promisesLength","original":{"line":124,"column":91},"generated":{"line":1,"column":1217}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":128,"column":16},"generated":{"line":1,"column":1220}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"rightestPosition","original":{"line":128,"column":25},"generated":{"line":1,"column":1222}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"rightestPosition","original":{"line":129,"column":14},"generated":{"line":1,"column":1226}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"newIdx","original":{"line":129,"column":33},"generated":{"line":1,"column":1228}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":133,"column":14},"generated":{"line":1,"column":1232}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":133,"column":14},"generated":{"line":1,"column":1235}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"rightestPosition","original":{"line":133,"column":34},"generated":{"line":1,"column":1238}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"vals","original":{"line":133,"column":53},"generated":{"line":1,"column":1240}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":133,"column":58},"generated":{"line":1,"column":1242}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":133,"column":67},"generated":{"line":1,"column":1249}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":135,"column":17},"generated":{"line":1,"column":1251}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"remainingEnumValues","original":{"line":134,"column":18},"generated":{"line":1,"column":1255}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"remainingEnumValues","original":{"line":134,"column":18},"generated":{"line":1,"column":1259}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"vals","original":{"line":134,"column":40},"generated":{"line":1,"column":1261}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"slice","original":{"line":134,"column":45},"generated":{"line":1,"column":1263}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"rightestPosition","original":{"line":134,"column":51},"generated":{"line":1,"column":1269}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":134,"column":70},"generated":{"line":1,"column":1271}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":135,"column":21},"generated":{"line":1,"column":1274}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"remainingEnumValues","original":{"line":135,"column":34},"generated":{"line":1,"column":1276}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":135,"column":54},"generated":{"line":1,"column":1278}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":135,"column":63},"generated":{"line":1,"column":1285}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":135,"column":66},"generated":{"line":1,"column":1287}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":135,"column":80},"generated":{"line":1,"column":1290}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":135,"column":83},"generated":{"line":1,"column":1292}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"addEnumValue","original":{"line":136,"column":14},"generated":{"line":1,"column":1296}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":136,"column":27},"generated":{"line":1,"column":1298}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"remainingEnumValues","original":{"line":136,"column":34},"generated":{"line":1,"column":1300}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reverseIdx","original":{"line":136,"column":54},"generated":{"line":1,"column":1302}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"lastOldEnumValue","original":{"line":136,"column":67},"generated":{"line":1,"column":1305}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":136,"column":85},"generated":{"line":1,"column":1307}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumIdx","original":{"line":140,"column":10},"generated":{"line":1,"column":1316}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":92,"column":10},"generated":{"line":1,"column":1326}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"push","original":{"line":92,"column":19},"generated":{"line":1,"column":1328}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":92,"column":24},"generated":{"line":1,"column":1333}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":93,"column":19},"generated":{"line":1,"column":1344}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":93,"column":19},"generated":{"line":1,"column":1351}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sequelize","original":{"line":93,"column":22},"generated":{"line":1,"column":1353}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"query","original":{"line":93,"column":32},"generated":{"line":1,"column":1363}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":93,"column":38},"generated":{"line":1,"column":1369}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"QueryGenerator","original":{"line":93,"column":41},"generated":{"line":1,"column":1371}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"pgEnum","original":{"line":93,"column":56},"generated":{"line":1,"column":1386}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"tableName","original":{"line":93,"column":63},"generated":{"line":1,"column":1393}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"field","original":{"line":93,"column":74},"generated":{"line":1,"column":1395}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"enumType","original":{"line":93,"column":81},"generated":{"line":1,"column":1397}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":93,"column":91},"generated":{"line":1,"column":1399}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Object","original":{"line":93,"column":101},"generated":{"line":1,"column":1402}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"assign","original":{"line":93,"column":108},"generated":{"line":1,"column":1409}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":93,"column":115},"generated":{"line":1,"column":1416}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"options","original":{"line":93,"column":119},"generated":{"line":1,"column":1419}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":93,"column":128},"generated":{"line":1,"column":1421}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"raw","original":{"line":93,"column":130},"generated":{"line":1,"column":1422}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":93,"column":135},"generated":{"line":1,"column":1427}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":80,"column":9},"generated":{"line":1,"column":1435}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":80,"column":9},"generated":{"line":1,"column":1439}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":80,"column":13},"generated":{"line":1,"column":1441}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":80,"column":16},"generated":{"line":1,"column":1443}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"keyLen","original":{"line":80,"column":20},"generated":{"line":1,"column":1445}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"i","original":{"line":80,"column":28},"generated":{"line":1,"column":1447}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":80,"column":33},"generated":{"line":1,"column":1451}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":145,"column":11},"generated":{"line":1,"column":1455}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":145,"column":11},"generated":{"line":1,"column":1462}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"reduce","original":{"line":146,"column":7},"generated":{"line":1,"column":1464}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":146,"column":14},"generated":{"line":1,"column":1471}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promise","original":{"line":146,"column":15},"generated":{"line":1,"column":1480}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"asyncFunction","original":{"line":146,"column":24},"generated":{"line":1,"column":1482}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promise","original":{"line":146,"column":42},"generated":{"line":1,"column":1485}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promise","original":{"line":146,"column":42},"generated":{"line":1,"column":1492}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"then","original":{"line":146,"column":50},"generated":{"line":1,"column":1494}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"asyncFunction","original":{"line":146,"column":55},"generated":{"line":1,"column":1499}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"Promise","original":{"line":146,"column":71},"generated":{"line":1,"column":1503}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"resolve","original":{"line":146,"column":79},"generated":{"line":1,"column":1505}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"tap","original":{"line":147,"column":7},"generated":{"line":1,"column":1516}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","original":{"line":147,"column":11},"generated":{"line":1,"column":1520}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":149,"column":12},"generated":{"line":1,"column":1531}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"promises","original":{"line":149,"column":12},"generated":{"line":1,"column":1534}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"length","original":{"line":149,"column":21},"generated":{"line":1,"column":1536}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":150,"column":17},"generated":{"line":1,"column":1543}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"qi","original":{"line":150,"column":17},"generated":{"line":1,"column":1550}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"sequelize","original":{"line":150,"column":20},"generated":{"line":1,"column":1552}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"dialect","original":{"line":150,"column":30},"generated":{"line":1,"column":1562}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"connectionManager","original":{"line":150,"column":38},"generated":{"line":1,"column":1570}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"_refreshDynamicOIDs","original":{"line":150,"column":56},"generated":{"line":1,"column":1588}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"exports","original":{"line":157,"column":0},"generated":{"line":1,"column":1614}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ensureEnums","original":{"line":157,"column":8},"generated":{"line":1,"column":1622}},{"source":"../node_modules/sequelize/lib/dialects/postgres/query-interface.js","name":"ensureEnums","original":{"line":157,"column":22},"generated":{"line":1,"column":1634}}],"sources":{"../node_modules/sequelize/lib/dialects/postgres/query-interface.js":"'use strict';\n\nconst DataTypes = require('../../data-types');\nconst Promise = require('../../promise');\nconst QueryTypes = require('../../query-types');\nconst _ = require('lodash');\n\n\n/**\n Returns an object that handles Postgres special needs to do certain queries.\n\n @class QueryInterface\n @static\n @private\n */\n\n/**\n   * Ensure enum and their values.\n   *\n   * @param {QueryInterface} qi\n   * @param {string} tableName  Name of table to create\n   * @param {Object} attributes Object representing a list of normalized table attributes\n   * @param {Object} [options]\n   * @param {Model}  [model]\n   *\n   * @returns {Promise}\n   * @private\n   */\nfunction ensureEnums(qi, tableName, attributes, options, model) {\n  const keys = Object.keys(attributes);\n  const keyLen = keys.length;\n\n  let sql = '';\n  let promises = [];\n  let i = 0;\n\n  for (i = 0; i < keyLen; i++) {\n    const attribute = attributes[keys[i]];\n    const type = attribute.type;\n\n    if (\n      type instanceof DataTypes.ENUM ||\n      type instanceof DataTypes.ARRAY && type.type instanceof DataTypes.ENUM //ARRAY sub type is ENUM\n    ) {\n      sql = qi.QueryGenerator.pgListEnums(tableName, attribute.field || keys[i], options);\n      promises.push(qi.sequelize.query(\n        sql,\n        Object.assign({}, options, { plain: true, raw: true, type: QueryTypes.SELECT })\n      ));\n    }\n  }\n\n  return Promise.all(promises).then(results => {\n    promises = [];\n    let enumIdx = 0;\n\n    // This little function allows us to re-use the same code that prepends or appends new value to enum array\n    const addEnumValue = (field, value, relativeValue, position = 'before', spliceStart = promises.length) => {\n      const valueOptions = _.clone(options);\n      valueOptions.before = null;\n      valueOptions.after = null;\n\n      switch (position) {\n        case 'after':\n          valueOptions.after = relativeValue;\n          break;\n        case 'before':\n        default:\n          valueOptions.before = relativeValue;\n          break;\n      }\n\n      promises.splice(spliceStart, 0, () => {\n        return qi.sequelize.query(qi.QueryGenerator.pgEnumAdd(\n          tableName, field, value, valueOptions\n        ), valueOptions);\n      });\n    };\n\n    for (i = 0; i < keyLen; i++) {\n      const attribute = attributes[keys[i]];\n      const type = attribute.type;\n      const enumType = type.type || type;\n      const field = attribute.field || keys[i];\n\n      if (\n        type instanceof DataTypes.ENUM ||\n        type instanceof DataTypes.ARRAY && enumType instanceof DataTypes.ENUM //ARRAY sub type is ENUM\n      ) {\n        // If the enum type doesn't exist then create it\n        if (!results[enumIdx]) {\n          promises.push(() => {\n            return qi.sequelize.query(qi.QueryGenerator.pgEnum(tableName, field, enumType, options), Object.assign({}, options, { raw: true }));\n          });\n        } else if (!!results[enumIdx] && !!model) {\n          const enumVals = qi.QueryGenerator.fromArray(results[enumIdx].enum_value);\n          const vals = enumType.values;\n\n          // Going through already existing values allows us to make queries that depend on those values\n          // We will prepend all new values between the old ones, but keep in mind - we can't change order of already existing values\n          // Then we append the rest of new values AFTER the latest already existing value\n          // E.g.: [1,2] -> [0,2,1] ==> [1,0,2]\n          // E.g.: [1,2,3] -> [2,1,3,4] ==> [1,2,3,4]\n          // E.g.: [1] -> [0,2,3] ==> [1,0,2,3]\n          let lastOldEnumValue;\n          let rightestPosition = -1;\n          for (let oldIndex = 0; oldIndex < enumVals.length; oldIndex++) {\n            const enumVal = enumVals[oldIndex];\n            const newIdx = vals.indexOf(enumVal);\n            lastOldEnumValue = enumVal;\n\n            if (newIdx === -1) {\n              continue;\n            }\n\n            const newValuesBefore = vals.slice(0, newIdx);\n            const promisesLength = promises.length;\n            // we go in reverse order so we could stop when we meet old value\n            for (let reverseIdx = newValuesBefore.length - 1; reverseIdx >= 0; reverseIdx--) {\n              if (~enumVals.indexOf(newValuesBefore[reverseIdx])) {\n                break;\n              }\n\n              addEnumValue(field, newValuesBefore[reverseIdx], lastOldEnumValue, 'before', promisesLength);\n            }\n\n            // we detect the most 'right' position of old value in new enum array so we can append new values to it\n            if (newIdx > rightestPosition) {\n              rightestPosition = newIdx;\n            }\n          }\n\n          if (lastOldEnumValue && rightestPosition < vals.length - 1) {\n            const remainingEnumValues = vals.slice(rightestPosition + 1);\n            for (let reverseIdx = remainingEnumValues.length - 1; reverseIdx >= 0; reverseIdx--) {\n              addEnumValue(field, remainingEnumValues[reverseIdx], lastOldEnumValue, 'after');\n            }\n          }\n\n          enumIdx++;\n        }\n      }\n    }\n\n    return promises\n      .reduce((promise, asyncFunction) => promise.then(asyncFunction), Promise.resolve())\n      .tap(() => {\n        // If ENUM processed, then refresh OIDs\n        if (promises.length) {\n          return qi.sequelize.dialect.connectionManager._refreshDynamicOIDs();\n        }\n      });\n  });\n}\n\n\nexports.ensureEnums = ensureEnums;\n"},"lineCount":null}},"error":null,"hash":"73d08ed7e2f512548cb4284a412528c5","cacheData":{"env":{}}}