{"id":"TdZR","dependencies":[{"name":"/Users/wolfzer44/www/vutiliti/package.json","includedInParent":true,"mtime":1584040983114},{"name":"/Users/wolfzer44/www/vutiliti/node_modules/cls-bluebird/package.json","includedInParent":true,"mtime":1583299135606},{"name":"shimmer","loc":{"line":18,"column":22},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/cls-bluebird/lib/shimUsing.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/shimmer/index.js"}],"generated":{"js":"\"use strict\";var t=require(\"shimmer\");function n(n,r){var i=n.prototype.then.__original,e=n.prototype.lastly.__original;t.wrap(n,\"using\",function(u){return function(){var o=arguments.length-1,a=arguments[o];return\"function\"==typeof a&&(arguments[o]=r.bind(a)),t.wrap(n,\"all\",function(t){return function(r){n.all=t;var u=t.call(this,r);return u.then=function(){var t=i.apply(this,arguments);return t.lastly=e,t},u}}),u.apply(this,arguments)}})}function r(n,r){var i=n.prototype.then.__original;t.wrap(n,\"using\",function(e){return function(){var u=arguments.length-1,o=arguments[u];return\"function\"==typeof o&&(arguments[u]=r.bind(o)),t.wrap(n,\"settle\",function(t){return function(r){n.settle=t;var e=t.call(this,r);return e.then=function(){var t=i.apply(this,arguments);return t.then=i,t},e}}),e.apply(this,arguments)}})}module.exports=function(t,i,e){(e?n:r)(t,i)};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":18,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":18,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":18,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":18,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":35,"column":0},"generated":{"line":1,"column":38}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":35,"column":0},"generated":{"line":1,"column":47}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":35,"column":0},"generated":{"line":1,"column":49}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":35,"column":0},"generated":{"line":1,"column":51}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":54}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":58}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":60}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":62}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":72}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":36,"column":0},"generated":{"line":1,"column":77}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":37,"column":0},"generated":{"line":1,"column":88}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":37,"column":0},"generated":{"line":1,"column":90}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":37,"column":0},"generated":{"line":1,"column":92}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":37,"column":0},"generated":{"line":1,"column":102}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":37,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":120}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":122}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":129}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":40,"column":0},"generated":{"line":1,"column":146}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":41,"column":0},"generated":{"line":1,"column":149}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":41,"column":0},"generated":{"line":1,"column":156}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":43,"column":0},"generated":{"line":1,"column":167}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":43,"column":0},"generated":{"line":1,"column":171}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":43,"column":0},"generated":{"line":1,"column":173}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":43,"column":0},"generated":{"line":1,"column":183}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":43,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":44,"column":0},"generated":{"line":1,"column":192}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":44,"column":0},"generated":{"line":1,"column":194}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":44,"column":0},"generated":{"line":1,"column":204}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":71,"column":0},"generated":{"line":1,"column":207}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":232}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":236}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":246}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":249}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":251}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":45,"column":0},"generated":{"line":1,"column":256}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":260}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":262}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":267}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":269}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":275}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":48,"column":0},"generated":{"line":1,"column":284}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":49,"column":0},"generated":{"line":1,"column":287}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":49,"column":0},"generated":{"line":1,"column":294}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":49,"column":0},"generated":{"line":1,"column":303}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":51,"column":0},"generated":{"line":1,"column":306}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":51,"column":0},"generated":{"line":1,"column":308}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":51,"column":0},"generated":{"line":1,"column":312}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":314}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":318}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":320}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":322}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":327}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":54,"column":0},"generated":{"line":1,"column":332}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":66,"column":0},"generated":{"line":1,"column":335}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":57,"column":0},"generated":{"line":1,"column":342}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":57,"column":0},"generated":{"line":1,"column":344}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":57,"column":0},"generated":{"line":1,"column":349}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":360}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":364}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":366}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":368}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":374}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":58,"column":0},"generated":{"line":1,"column":379}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":63,"column":0},"generated":{"line":1,"column":390}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":61,"column":0},"generated":{"line":1,"column":397}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":61,"column":0},"generated":{"line":1,"column":399}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":61,"column":0},"generated":{"line":1,"column":406}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":63,"column":0},"generated":{"line":1,"column":408}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":66,"column":0},"generated":{"line":1,"column":411}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":71,"column":0},"generated":{"line":1,"column":416}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":71,"column":0},"generated":{"line":1,"column":418}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":71,"column":0},"generated":{"line":1,"column":424}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":71,"column":0},"generated":{"line":1,"column":429}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":77,"column":0},"generated":{"line":1,"column":443}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":77,"column":0},"generated":{"line":1,"column":452}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":77,"column":0},"generated":{"line":1,"column":454}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":77,"column":0},"generated":{"line":1,"column":456}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":459}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":463}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":465}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":467}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":477}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":78,"column":0},"generated":{"line":1,"column":482}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":493}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":495}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":500}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":502}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":510}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":81,"column":0},"generated":{"line":1,"column":519}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":82,"column":0},"generated":{"line":1,"column":522}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":82,"column":0},"generated":{"line":1,"column":529}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":84,"column":0},"generated":{"line":1,"column":540}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":84,"column":0},"generated":{"line":1,"column":544}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":84,"column":0},"generated":{"line":1,"column":546}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":84,"column":0},"generated":{"line":1,"column":556}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":84,"column":0},"generated":{"line":1,"column":563}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":85,"column":0},"generated":{"line":1,"column":565}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":85,"column":0},"generated":{"line":1,"column":567}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":85,"column":0},"generated":{"line":1,"column":577}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":111,"column":0},"generated":{"line":1,"column":580}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":586}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":605}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":609}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":619}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":622}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":624}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":86,"column":0},"generated":{"line":1,"column":629}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":633}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":635}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":640}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":642}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":651}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":89,"column":0},"generated":{"line":1,"column":660}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":90,"column":0},"generated":{"line":1,"column":663}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":90,"column":0},"generated":{"line":1,"column":670}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":90,"column":0},"generated":{"line":1,"column":679}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":92,"column":0},"generated":{"line":1,"column":682}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":92,"column":0},"generated":{"line":1,"column":684}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":92,"column":0},"generated":{"line":1,"column":691}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":693}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":697}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":699}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":701}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":706}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":95,"column":0},"generated":{"line":1,"column":711}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":106,"column":0},"generated":{"line":1,"column":714}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":98,"column":0},"generated":{"line":1,"column":721}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":98,"column":0},"generated":{"line":1,"column":723}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":98,"column":0},"generated":{"line":1,"column":728}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":739}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":743}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":745}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":747}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":753}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":99,"column":0},"generated":{"line":1,"column":758}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":103,"column":0},"generated":{"line":1,"column":769}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":102,"column":0},"generated":{"line":1,"column":776}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":102,"column":0},"generated":{"line":1,"column":778}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":102,"column":0},"generated":{"line":1,"column":783}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":103,"column":0},"generated":{"line":1,"column":785}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":106,"column":0},"generated":{"line":1,"column":788}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":111,"column":0},"generated":{"line":1,"column":793}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":111,"column":0},"generated":{"line":1,"column":795}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":111,"column":0},"generated":{"line":1,"column":801}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":111,"column":0},"generated":{"line":1,"column":806}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":820}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":827}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":835}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":844}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":846}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":30,"column":0},"generated":{"line":1,"column":848}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":31,"column":0},"generated":{"line":1,"column":852}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":31,"column":0},"generated":{"line":1,"column":854}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":31,"column":0},"generated":{"line":1,"column":856}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":31,"column":0},"generated":{"line":1,"column":859}},{"source":"../node_modules/cls-bluebird/lib/shimUsing.js","original":{"line":31,"column":0},"generated":{"line":1,"column":861}}],"sources":{"../node_modules/cls-bluebird/lib/shimUsing.js":"'use strict';\n\n/*\n * cls-bluebird\n * Function to shim `Promise.using`\n *\n * `Promise.using()` calls `.then()` and `.lastly` internally which leads to\n * unnecessary CLS context binding with a naive patch.\n *\n * This custom patch intercepts calls to `Promise.all()` (v3) or `Promise.settle()` (v2)\n * within `Promise.using()` and patches the resulting promise's `.then`/`.lastly` methods\n * so they do not bind callbacks to CLS context.\n *\n * NB This patch could break if bluebird internals change, but this is covered by the tests.\n */\n\n// Modules\nvar shimmer = require('shimmer');\n\n// Exports\n\n/**\n * Patch `Promise.using` method to run callbacks in current CLS context.\n *\n * @param {Function} Promise - Bluebird Promise constructor to patch\n * @param {Object} ns - CLS namespace to bind callbacks to\n * @param {boolean} v3 - `true` if bluebird being patched is v3.x\n * @returns {undefined}\n */\nmodule.exports = function(Promise, ns, v3) {\n\t(v3 ? patchV3 : patchV2)(Promise, ns);\n};\n\n// Patch for `Promise.using()` in bluebird v3\nfunction patchV3(Promise, ns) {\n\tvar thenOriginal = Promise.prototype.then.__original,\n\t\tlastlyOriginal = Promise.prototype.lastly.__original;\n\n\t// Patch method\n\tshimmer.wrap(Promise, 'using', function(usingOriginal) {\n\t\treturn function() {\n\t\t\t// Bind `using` callback (last arg)\n\t\t\tvar argIndex = arguments.length - 1,\n\t\t\t\tcallback = arguments[argIndex];\n\t\t\tif (typeof callback === 'function') arguments[argIndex] = ns.bind(callback);\n\n\t\t\t// Temporarily patch `Promise.all()`\n\t\t\tshimmer.wrap(Promise, 'all', function(allOriginal) {\n\t\t\t\treturn function(promises) {\n\t\t\t\t\t// Remove temporary patch on `Promise.all()`\n\t\t\t\t\tPromise.all = allOriginal;\n\n\t\t\t\t\t// Call original `Promise.all()`\n\t\t\t\t\tvar p = allOriginal.call(this, promises);\n\n\t\t\t\t\t// Patch `.then()` method on this promise to not bind callbacks\n\t\t\t\t\tp.then = function() {\n\t\t\t\t\t\tvar p = thenOriginal.apply(this, arguments);\n\n\t\t\t\t\t\t// Patch `.lastly()` method on this promise to not bind callbacks\n\t\t\t\t\t\tp.lastly = lastlyOriginal;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t// Call original `Promise.using()` method\n\t\t\treturn usingOriginal.apply(this, arguments);\n\t\t};\n\t});\n}\n\n// Patch for `Promise.using()` in bluebird v2\nfunction patchV2(Promise, ns) {\n\tvar thenOriginal = Promise.prototype.then.__original;\n\n\t// Patch method\n\tshimmer.wrap(Promise, 'using', function(usingOriginal) {\n\t\treturn function() {\n\t\t\t// Bind `using` callback (last arg)\n\t\t\tvar argIndex = arguments.length - 1,\n\t\t\t\tcallback = arguments[argIndex];\n\t\t\tif (typeof callback === 'function') arguments[argIndex] = ns.bind(callback);\n\n\t\t\t// Temporarily patch `Promise.settle()`\n\t\t\tshimmer.wrap(Promise, 'settle', function(settleOriginal) {\n\t\t\t\treturn function(resources) {\n\t\t\t\t\t// Remove temporary patch on `Promise.settle()`\n\t\t\t\t\tPromise.settle = settleOriginal;\n\n\t\t\t\t\t// Call original `Promise.settle()`\n\t\t\t\t\tvar p = settleOriginal.call(this, resources);\n\n\t\t\t\t\t// Patch `.then()` method on this promise to not bind callbacks\n\t\t\t\t\tp.then = function() {\n\t\t\t\t\t\tvar p = thenOriginal.apply(this, arguments);\n\n\t\t\t\t\t\t// Patch `.then()` method on this promise to not bind callbacks\n\t\t\t\t\t\tp.then = thenOriginal;\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t};\n\n\t\t\t\t\treturn p;\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t// Call original `Promise.using()` method\n\t\t\treturn usingOriginal.apply(this, arguments);\n\t\t};\n\t});\n}\n"},"lineCount":null}},"error":null,"hash":"fb64dd681a42d56a55bee2565fbb94c4","cacheData":{"env":{}}}