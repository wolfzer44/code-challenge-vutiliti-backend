{"id":"YoRW","dependencies":[{"name":"/Users/wolfzer44/www/vutiliti/package.json","includedInParent":true,"mtime":1584040983114},{"name":"/Users/wolfzer44/www/vutiliti/node_modules/cls-bluebird/package.json","includedInParent":true,"mtime":1583299135606},{"name":"shimmer","loc":{"line":10,"column":22},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/cls-bluebird/lib/shimOnCancel.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/shimmer/index.js"}],"generated":{"js":"\"use strict\";var r=require(\"shimmer\");module.exports=function(t,n){r.wrap(t.prototype,\"_resolveFromExecutor\",function(r){return function(t){return r.call(this,function(){var r=arguments[2];return r&&(arguments[2]=function(t){return\"function\"==typeof t&&(t=n.bind(t)),r.call(this,t)}),t.apply(this,arguments)})}})};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":10,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":10,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":10,"column":0},"generated":{"line":1,"column":19}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":10,"column":0},"generated":{"line":1,"column":27}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":21,"column":0},"generated":{"line":1,"column":38}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":21,"column":0},"generated":{"line":1,"column":45}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":21,"column":0},"generated":{"line":1,"column":53}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":21,"column":0},"generated":{"line":1,"column":62}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":21,"column":0},"generated":{"line":1,"column":64}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":67}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":69}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":74}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":76}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":86}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":23,"column":0},"generated":{"line":1,"column":118}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":24,"column":0},"generated":{"line":1,"column":121}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":24,"column":0},"generated":{"line":1,"column":128}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":24,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":41,"column":0},"generated":{"line":1,"column":140}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":41,"column":0},"generated":{"line":1,"column":147}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":41,"column":0},"generated":{"line":1,"column":149}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":41,"column":0},"generated":{"line":1,"column":154}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":26,"column":0},"generated":{"line":1,"column":159}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":27,"column":0},"generated":{"line":1,"column":170}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":27,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":27,"column":0},"generated":{"line":1,"column":176}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":27,"column":0},"generated":{"line":1,"column":186}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":37,"column":0},"generated":{"line":1,"column":189}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":28,"column":0},"generated":{"line":1,"column":196}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":30,"column":0},"generated":{"line":1,"column":200}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":30,"column":0},"generated":{"line":1,"column":210}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":30,"column":0},"generated":{"line":1,"column":213}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":30,"column":0},"generated":{"line":1,"column":222}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":33,"column":0},"generated":{"line":1,"column":225}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":231}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":250}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":254}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":256}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":258}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":32,"column":0},"generated":{"line":1,"column":263}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":33,"column":0},"generated":{"line":1,"column":267}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":33,"column":0},"generated":{"line":1,"column":269}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":33,"column":0},"generated":{"line":1,"column":274}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":33,"column":0},"generated":{"line":1,"column":279}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":37,"column":0},"generated":{"line":1,"column":284}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":37,"column":0},"generated":{"line":1,"column":286}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":37,"column":0},"generated":{"line":1,"column":292}},{"source":"../node_modules/cls-bluebird/lib/shimOnCancel.js","original":{"line":37,"column":0},"generated":{"line":1,"column":297}}],"sources":{"../node_modules/cls-bluebird/lib/shimOnCancel.js":"'use strict';\n\n/*\n * cls-bluebird\n * Function to shim `Promise.prototype._resolveFromExecutor`\n * in order to patch `onCancel` handler in `new Promise()`.\n */\n\n// Modules\nvar shimmer = require('shimmer');\n\n// Exports\n\n/**\n * Patch `_resolveFromExecutor` proto method to run `onCancel` callbacks in current CLS context.\n *\n * @param {Function} Promise - Bluebird Promise constructor to patch\n * @param {Object} ns - CLS namespace to bind callbacks to\n * @returns {undefined}\n */\nmodule.exports = function(Promise, ns) {\n\t// Patch method\n\tshimmer.wrap(Promise.prototype, '_resolveFromExecutor', function(_resolveFromExecutorOriginal) {\n\t\treturn function(executor) {\n\t\t\t// Patch executor\n\t\t\tvar executorPatched = function() {\n\t\t\t\tvar onCancel = arguments[2];\n\t\t\t\tif (onCancel) {\n\t\t\t\t\t// Patch onCancel function\n\t\t\t\t\targuments[2] = function(fn) {\n\t\t\t\t\t\t// Bind onCancel handler to current CLS context\n\t\t\t\t\t\tif (typeof fn === 'function') fn = ns.bind(fn);\n\t\t\t\t\t\treturn onCancel.call(this, fn);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn executor.apply(this, arguments);\n\t\t\t};\n\n\t\t\t// Call original method\n\t\t\treturn _resolveFromExecutorOriginal.call(this, executorPatched);\n\t\t};\n\t});\n};\n"},"lineCount":null}},"error":null,"hash":"d8ffe899db02177512428655de9c3580","cacheData":{"env":{}}}