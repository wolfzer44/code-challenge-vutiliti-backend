{"id":"pWoH","dependencies":[{"name":"/Users/wolfzer44/www/vutiliti/package.json","includedInParent":true,"mtime":1584040983114},{"name":"/Users/wolfzer44/www/vutiliti/node_modules/node-cron/package.json","includedInParent":true,"mtime":1583954940245},{"name":"tz-offset","loc":{"line":3,"column":23},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/node-cron/src/scheduled-task.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/tz-offset/src/tz-offset.js"}],"generated":{"js":"\"use strict\";var t=require(\"tz-offset\");function s(s,e){var i=this,n=e.timezone;this.start=function(){return i.status=\"scheduled\",i.task&&!i.tick&&(i.tick=setTimeout(i.task,1e3-(new Date).getMilliseconds()+1)),i},this.stop=function(){return i.status=\"stoped\",i.tick&&(clearTimeout(i.tick),i.tick=null),i},this.getStatus=function(){return i.status},this.destroy=function(){i.stop(),i.status=\"destroyed\",i.task=null},s.on(\"started\",function(){i.status=\"running\"}),s.on(\"done\",function(){i.status=\"scheduled\"}),s.on(\"failed\",function(){i.status=\"failed\"}),this.task=function(){var e=new Date;n&&(e=t.timeAt(e,n)),i.tick=setTimeout(i.task,1e3-e.getMilliseconds()+1),s.update(e)},this.tick=null,!1!==e.scheduled&&this.start()}module.exports=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tzOffset","original":{"line":3,"column":4},"generated":{"line":1,"column":17}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":19}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":3,"column":23},"generated":{"line":1,"column":27}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":11,"column":0},"generated":{"line":1,"column":40}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"ScheduledTask","original":{"line":11,"column":9},"generated":{"line":1,"column":49}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":11,"column":23},"generated":{"line":1,"column":51}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"options","original":{"line":11,"column":29},"generated":{"line":1,"column":53}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":11,"column":38},"generated":{"line":1,"column":56}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":11,"column":38},"generated":{"line":1,"column":60}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":11,"column":38},"generated":{"line":1,"column":62}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"timezone","original":{"line":12,"column":6},"generated":{"line":1,"column":67}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"options","original":{"line":12,"column":17},"generated":{"line":1,"column":69}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"timezone","original":{"line":12,"column":25},"generated":{"line":1,"column":71}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"start","original":{"line":19,"column":7},"generated":{"line":1,"column":80}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"start","original":{"line":19,"column":7},"generated":{"line":1,"column":85}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":19,"column":15},"generated":{"line":1,"column":91}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":25,"column":11},"generated":{"line":1,"column":102}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":20,"column":4},"generated":{"line":1,"column":109}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":20,"column":9},"generated":{"line":1,"column":111}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":20,"column":18},"generated":{"line":1,"column":118}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":21,"column":8},"generated":{"line":1,"column":130}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":21,"column":13},"generated":{"line":1,"column":132}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":21,"column":22},"generated":{"line":1,"column":139}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":21,"column":27},"generated":{"line":1,"column":141}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":22,"column":6},"generated":{"line":1,"column":148}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":22,"column":11},"generated":{"line":1,"column":150}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"setTimeout","original":{"line":22,"column":18},"generated":{"line":1,"column":155}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":22,"column":29},"generated":{"line":1,"column":166}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":22,"column":34},"generated":{"line":1,"column":168}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":22,"column":40},"generated":{"line":1,"column":173}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":22,"column":47},"generated":{"line":1,"column":178}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"Date","original":{"line":22,"column":51},"generated":{"line":1,"column":182}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"getMilliseconds","original":{"line":22,"column":58},"generated":{"line":1,"column":188}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":22,"column":78},"generated":{"line":1,"column":206}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":25,"column":11},"generated":{"line":1,"column":210}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"stop","original":{"line":33,"column":7},"generated":{"line":1,"column":213}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"stop","original":{"line":33,"column":7},"generated":{"line":1,"column":218}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":33,"column":14},"generated":{"line":1,"column":223}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":40,"column":11},"generated":{"line":1,"column":234}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":34,"column":4},"generated":{"line":1,"column":241}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":34,"column":9},"generated":{"line":1,"column":243}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":34,"column":18},"generated":{"line":1,"column":250}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":35,"column":8},"generated":{"line":1,"column":259}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":35,"column":13},"generated":{"line":1,"column":261}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"clearTimeout","original":{"line":36,"column":6},"generated":{"line":1,"column":268}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":36,"column":19},"generated":{"line":1,"column":281}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":36,"column":24},"generated":{"line":1,"column":283}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":37,"column":6},"generated":{"line":1,"column":289}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":37,"column":11},"generated":{"line":1,"column":291}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":37,"column":18},"generated":{"line":1,"column":296}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":40,"column":11},"generated":{"line":1,"column":302}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"getStatus","original":{"line":54,"column":7},"generated":{"line":1,"column":305}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"getStatus","original":{"line":54,"column":7},"generated":{"line":1,"column":310}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":54,"column":19},"generated":{"line":1,"column":320}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":55,"column":11},"generated":{"line":1,"column":331}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":55,"column":11},"generated":{"line":1,"column":338}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":55,"column":16},"generated":{"line":1,"column":340}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"destroy","original":{"line":61,"column":7},"generated":{"line":1,"column":348}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"destroy","original":{"line":61,"column":7},"generated":{"line":1,"column":353}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":61,"column":17},"generated":{"line":1,"column":361}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":62,"column":4},"generated":{"line":1,"column":372}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"stop","original":{"line":62,"column":9},"generated":{"line":1,"column":374}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":63,"column":4},"generated":{"line":1,"column":381}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":63,"column":9},"generated":{"line":1,"column":383}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":63,"column":18},"generated":{"line":1,"column":390}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":65,"column":4},"generated":{"line":1,"column":402}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":65,"column":9},"generated":{"line":1,"column":404}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":65,"column":16},"generated":{"line":1,"column":409}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":68,"column":2},"generated":{"line":1,"column":415}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"on","original":{"line":68,"column":7},"generated":{"line":1,"column":417}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":68,"column":10},"generated":{"line":1,"column":420}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":68,"column":21},"generated":{"line":1,"column":430}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":69,"column":4},"generated":{"line":1,"column":441}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":69,"column":9},"generated":{"line":1,"column":443}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":69,"column":18},"generated":{"line":1,"column":450}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":72,"column":2},"generated":{"line":1,"column":462}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"on","original":{"line":72,"column":7},"generated":{"line":1,"column":464}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":72,"column":10},"generated":{"line":1,"column":467}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":72,"column":18},"generated":{"line":1,"column":474}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":73,"column":4},"generated":{"line":1,"column":485}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":73,"column":9},"generated":{"line":1,"column":487}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":73,"column":18},"generated":{"line":1,"column":494}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":76,"column":2},"generated":{"line":1,"column":508}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"on","original":{"line":76,"column":7},"generated":{"line":1,"column":510}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":76,"column":10},"generated":{"line":1,"column":513}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":76,"column":20},"generated":{"line":1,"column":522}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":77,"column":4},"generated":{"line":1,"column":533}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"status","original":{"line":77,"column":9},"generated":{"line":1,"column":535}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":77,"column":18},"generated":{"line":1,"column":542}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":80,"column":7},"generated":{"line":1,"column":553}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":80,"column":7},"generated":{"line":1,"column":558}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":80,"column":14},"generated":{"line":1,"column":563}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":81,"column":8},"generated":{"line":1,"column":574}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":81,"column":8},"generated":{"line":1,"column":578}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":81,"column":15},"generated":{"line":1,"column":580}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"Date","original":{"line":81,"column":19},"generated":{"line":1,"column":584}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"timezone","original":{"line":82,"column":7},"generated":{"line":1,"column":589}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":83,"column":6},"generated":{"line":1,"column":593}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tzOffset","original":{"line":83,"column":13},"generated":{"line":1,"column":595}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"timeAt","original":{"line":83,"column":22},"generated":{"line":1,"column":597}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":83,"column":29},"generated":{"line":1,"column":604}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"timezone","original":{"line":83,"column":35},"generated":{"line":1,"column":606}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":85,"column":4},"generated":{"line":1,"column":610}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":85,"column":9},"generated":{"line":1,"column":612}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"setTimeout","original":{"line":85,"column":16},"generated":{"line":1,"column":617}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":85,"column":27},"generated":{"line":1,"column":628}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":85,"column":32},"generated":{"line":1,"column":630}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":85,"column":38},"generated":{"line":1,"column":635}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":85,"column":45},"generated":{"line":1,"column":639}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"getMilliseconds","original":{"line":85,"column":50},"generated":{"line":1,"column":641}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":85,"column":70},"generated":{"line":1,"column":659}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"task","original":{"line":86,"column":4},"generated":{"line":1,"column":662}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"update","original":{"line":86,"column":9},"generated":{"line":1,"column":664}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"date","original":{"line":86,"column":16},"generated":{"line":1,"column":671}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":89,"column":7},"generated":{"line":1,"column":675}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"tick","original":{"line":89,"column":7},"generated":{"line":1,"column":680}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":89,"column":14},"generated":{"line":1,"column":685}},{"source":"../node_modules/node-cron/src/scheduled-task.js","original":{"line":91,"column":28},"generated":{"line":1,"column":691}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"options","original":{"line":91,"column":6},"generated":{"line":1,"column":695}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"scheduled","original":{"line":91,"column":14},"generated":{"line":1,"column":697}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"start","original":{"line":92,"column":9},"generated":{"line":1,"column":708}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"start","original":{"line":92,"column":9},"generated":{"line":1,"column":713}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"module","original":{"line":96,"column":0},"generated":{"line":1,"column":721}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"exports","original":{"line":96,"column":7},"generated":{"line":1,"column":728}},{"source":"../node_modules/node-cron/src/scheduled-task.js","name":"ScheduledTask","original":{"line":96,"column":17},"generated":{"line":1,"column":736}}],"sources":{"../node_modules/node-cron/src/scheduled-task.js":"'use strict';\n\nvar tzOffset = require('tz-offset');\n\n/**\n* Creates a new scheduled task.\n*\n* @param {Task} task - task to schedule.\n* @param {*} options - task options.\n*/\nfunction ScheduledTask(task, options) {\n  var timezone = options.timezone;\n  \n  /**\n  * Starts updating the task.\n  *\n  * @returns {ScheduledTask} instance of this task.\n  */\n  this.start = () => {\n    this.status = 'scheduled';\n    if (this.task && !this.tick) {\n      this.tick = setTimeout(this.task, 1000 - new Date().getMilliseconds() + 1);\n    }\n    \n    return this;\n  };\n  \n  /**\n  * Stops updating the task.\n  *\n  * @returns {ScheduledTask} instance of this task.\n  */\n  this.stop = () => {\n    this.status = 'stoped';\n    if (this.tick) {\n      clearTimeout(this.tick);\n      this.tick = null;\n    }\n    \n    return this;\n  };\n  \n  /**\n  * Returns the current task status.\n  *\n  * @returns {string} current task status.\n  * The return may be:\n  * - scheduled: when a task is scheduled and waiting to be executed.\n  * - running: the task status while the task is executing. \n  * - stoped: when the task is stoped.\n  * - destroyed: whe the task is destroyed, in that status the task cannot be re-started.\n  * - failed: a task is maker as failed when the previous execution fails.\n  */\n  this.getStatus = () => {\n    return this.status;\n  };\n  \n  /**\n  * Destroys the scheduled task.\n  */\n  this.destroy = () => {\n    this.stop();\n    this.status = 'destroyed';\n    \n    this.task = null;\n  };\n  \n  task.on('started', () => {\n    this.status = 'running';\n  });\n  \n  task.on('done', () => {\n    this.status = 'scheduled';\n  });\n  \n  task.on('failed', () => {\n    this.status = 'failed';\n  });\n  \n  this.task = () => {\n    var date = new Date();\n    if(timezone){\n      date = tzOffset.timeAt(date, timezone);\n    }\n    this.tick = setTimeout(this.task, 1000 - date.getMilliseconds() + 1);\n    task.update(date);\n  };\n  \n  this.tick = null;\n  \n  if (options.scheduled !== false) {\n    this.start();\n  }\n}\n\nmodule.exports = ScheduledTask;\n"},"lineCount":null}},"error":null,"hash":"316c9919a7f486fdccd25b4d945bdd1e","cacheData":{"env":{}}}