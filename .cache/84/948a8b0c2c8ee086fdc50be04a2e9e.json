{"id":"xARr","dependencies":[{"name":"/Users/wolfzer44/www/vutiliti/package.json","includedInParent":true,"mtime":1584040983114},{"name":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/package.json","includedInParent":true,"mtime":1583299135701},{"name":"../../promise","loc":{"line":3,"column":24},"parent":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/dialects/mssql/resource-lock.js","resolved":"/Users/wolfzer44/www/vutiliti/node_modules/sequelize/lib/promise.js"}],"generated":{"js":"\"use strict\";function e(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,\"value\"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var t=require(\"../../promise\"),o=function(){function r(n){e(this,r),this.resource=n,this.previous=t.resolve(n)}return n(r,[{key:\"unwrap\",value:function(){return this.resource}},{key:\"lock\",value:function(){var e,r=this.previous;return this.previous=new t(function(r){e=r}),r.disposer(e)}}]),r}();module.exports=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":22}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":24}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":26}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":29}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":34}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":47}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":50}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":56}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":60}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":70}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":107}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":116}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":118}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":120}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":123}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":131}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":133}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":135}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":137}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":139}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":146}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":150}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":151}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":155}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":157}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":159}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":162}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":164}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":175}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":177}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":190}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":192}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":194}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":208}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":210}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":220}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":224}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":226}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":236}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":246}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":263}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":265}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":269}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":273}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":282}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":284}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":286}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":288}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":291}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":298}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":301}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":303}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":305}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":315}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":318}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":321}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":323}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":325}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":328}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":3,"column":0},"generated":{"line":1,"column":330}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"Promise","original":{"line":3,"column":6},"generated":{"line":1,"column":334}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":336}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":3,"column":24},"generated":{"line":1,"column":344}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"ResourceLock","original":{"line":5,"column":6},"generated":{"line":1,"column":361}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"ResourceLock","original":{"line":5,"column":6},"generated":{"line":1,"column":363}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":6,"column":14},"generated":{"line":1,"column":374}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":6,"column":14},"generated":{"line":1,"column":383}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":6,"column":14},"generated":{"line":1,"column":385}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":6,"column":24},"generated":{"line":1,"column":388}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":6,"column":24},"generated":{"line":1,"column":390}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":6,"column":24},"generated":{"line":1,"column":395}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":7,"column":9},"generated":{"line":1,"column":398}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":7,"column":9},"generated":{"line":1,"column":403}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":7,"column":20},"generated":{"line":1,"column":412}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"previous","original":{"line":8,"column":9},"generated":{"line":1,"column":414}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"previous","original":{"line":8,"column":9},"generated":{"line":1,"column":419}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"Promise","original":{"line":8,"column":20},"generated":{"line":1,"column":428}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resolve","original":{"line":8,"column":28},"generated":{"line":1,"column":430}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":8,"column":36},"generated":{"line":1,"column":438}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":441}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":448}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":450}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":452}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":453}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":454}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":458}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":11,"column":11},"generated":{"line":1,"column":467}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":11,"column":11},"generated":{"line":1,"column":473}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":12,"column":11},"generated":{"line":1,"column":484}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":12,"column":11},"generated":{"line":1,"column":491}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resource","original":{"line":12,"column":16},"generated":{"line":1,"column":496}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":507}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":508}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":512}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":15,"column":9},"generated":{"line":1,"column":519}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":15,"column":9},"generated":{"line":1,"column":525}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"lock","original":{"line":16,"column":10},"generated":{"line":1,"column":536}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resolve","original":{"line":17,"column":8},"generated":{"line":1,"column":540}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"lock","original":{"line":16,"column":10},"generated":{"line":1,"column":542}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":16,"column":17},"generated":{"line":1,"column":544}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"previous","original":{"line":16,"column":22},"generated":{"line":1,"column":549}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"lock","original":{"line":21,"column":11},"generated":{"line":1,"column":558}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"previous","original":{"line":18,"column":9},"generated":{"line":1,"column":565}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"previous","original":{"line":18,"column":9},"generated":{"line":1,"column":570}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":18,"column":20},"generated":{"line":1,"column":579}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"Promise","original":{"line":18,"column":24},"generated":{"line":1,"column":583}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":18,"column":32},"generated":{"line":1,"column":585}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"r","original":{"line":18,"column":32},"generated":{"line":1,"column":594}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resolve","original":{"line":19,"column":6},"generated":{"line":1,"column":597}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"r","original":{"line":19,"column":16},"generated":{"line":1,"column":599}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"lock","original":{"line":21,"column":11},"generated":{"line":1,"column":603}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"disposer","original":{"line":21,"column":16},"generated":{"line":1,"column":605}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"resolve","original":{"line":21,"column":25},"generated":{"line":1,"column":614}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","original":{"line":25,"column":0},"generated":{"line":1,"column":621}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"ResourceLock","original":{"line":5,"column":6},"generated":{"line":1,"column":623}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"module","original":{"line":25,"column":0},"generated":{"line":1,"column":626}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"exports","original":{"line":25,"column":7},"generated":{"line":1,"column":633}},{"source":"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js","name":"ResourceLock","original":{"line":25,"column":17},"generated":{"line":1,"column":641}}],"sources":{"../node_modules/sequelize/lib/dialects/mssql/resource-lock.js":"'use strict';\n\nconst Promise = require('../../promise');\n\nclass ResourceLock {\n  constructor(resource) {\n    this.resource = resource;\n    this.previous = Promise.resolve(resource);\n  }\n\n  unwrap() {\n    return this.resource;\n  }\n\n  lock() {\n    const lock = this.previous;\n    let resolve;\n    this.previous = new Promise(r => {\n      resolve = r;\n    });\n    return lock.disposer(resolve);\n  }\n}\n\nmodule.exports = ResourceLock;\n"},"lineCount":null}},"error":null,"hash":"f35718e87b7dc9b1e7405d0744ae6b10","cacheData":{"env":{}}}